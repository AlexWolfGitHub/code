// Generated by CoffeeScript 1.9.3
(function () {
    define('demo/datatree/TestDataTreeModule', [
        'angular',
        'framework/datasource/DataSourceModule',
        'framework/datatree/GillionDataTreeModule'
    ], function (angular, GillionDataTreeModule) {
        var TestDataTreeModule = angular.module('TestDataTreeModule', ['GillionDataTreeModule']);
        TestDataTreeModule.controller('DataTreeController', function ($scope, $dataTreeManager, $timeout, $dataSourceManager) {
            $scope.showSelect = function (record) {
                if (record.id === "id4" || record.parent === "id4") {
                    return false;
                } else {
                    return true;
                }
            }
            $scope.test = {};
            $scope.test.radioValue = "";
            $scope.show = false;
            $scope.radioValue = "";
            $scope.checkValues = "";

            $scope.radiorow = {};
            $scope.checkedrow = {};

            $scope.radioItems = [];
            $scope.checkedItems = [];

            $scope.checkChanges = [];

            $scope.showChanges = function () {
                alert($scope.checkChanges);
            }

            $scope.testParams = {"kkkk": "sdfsdf"};

            // $timeout(function () {
            //     var dataSource = $dataSourceManager.dataSources["asyncTreeSource"];
            //     console.info(dataSource.sourceName);
            //     if (!dataSource.params) {
            //         dataSource.params = {};
            //     }
            //     dataSource.params.kkkkd = "dddd";
            // }, true);

            $scope.beforeSelect = function (record) {

                console.info("-----before  select-------------", record);
            }

            $scope.afterSelect = function (record) {
                console.info("----------after select-------------")
            }

            $scope.beforeCheck = function (record) {
                console.info("-----before  check-------------", record);
            }

            $scope.afterCheck = function (record) {
                console.info("----------after check-------------", record);
                console.info($scope.checkedItems);
            }

            $scope.itemClass = function (record) {
                //  console.info(record);
                if (record.id === "id1") {
                    return 'fontcolor';
                }
            }

            $scope.beforeRename = function (value, record) {
                console.info("-----beforeRename-----", value, record);
                return true;
            }

            $scope.onRename = function (value, record) {
                console.info("-----onRename-----", value, record);
            }

            $scope.renderItem = function (el, data) {
                return "123";
            }

            var dataTree;
            $timeout(function () {
                dataTree = $dataTreeManager.getDataTree("checkTree");
            });

            $scope.loadSuccess = function (record) {
                dataTree.check("id1");
            };

            $scope.beforeExpand = function (record) {
                console.info('-------------', record)
                return true;
            }

            $scope.onExpand = function (record) {
                console.info('-------------', record)
            };
            $scope.setDisplayExpress = function () {
                var dataTree = $dataTreeManager.getDataTree("radioTree");
                dataTree.setItemDisplayExpress("id1", "goodluck");
            };

            $scope.gotoRow = function () {
                var dataTree = $dataTreeManager.getDataTree("radioTree");
                dataTree.gotoRow("选项q",1);
            }


        });
        return TestDataTreeModule;
    })
})(this)



